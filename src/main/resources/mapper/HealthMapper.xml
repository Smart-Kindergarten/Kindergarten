<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--namespace路径-->
<mapper namespace="com.cykj.mapper.HealthMapper">
    <!--execl表格解析数据存入exampaper表-->
    <!--  id 方法名  resultType返回类型 -->

    <select id="selectHealth" parameterType="com.cykj.bean.Healthbean" resultType="com.cykj.bean.Healthbean">
        SELECT * from t_user,t_babyhealth where t_user.ures1 = t_babyhealth.babyid and t_user.uaccount = #{uaccount} LIMIT #{page},#{pages}
    </select>

    <!--小程序根据手机查询宝宝体检数据-->
    <select id="selHeaUphone" parameterType="com.cykj.bean.Healthbean" resultType="com.cykj.bean.Healthbean">
        SELECT * from t_user,t_babyhealth where t_user.ures1 = t_babyhealth.babyid and t_user.uphone = #{uphone} LIMIT #{page},#{pages}
    </select>

    <!--小程序根据手机查询宝宝课程表数据-->
    <select id="selCurrAndUser" parameterType="com.cykj.va.CurrAndUser" resultType="com.cykj.va.CurrAndUser">
        SELECT * from t_user,t_curriculum where t_user.uphone = #{uphone} LIMIT #{page},#{pages}
    </select>

    <!--小程序查询宝宝膳食数据-->
    <select id="selBabyFood" parameterType="com.cykj.bean.BabyFood" resultType="com.cykj.bean.BabyFood">
        SELECT * from t_user,t_babyfood  LIMIT #{page},#{pages}
    </select>

    <!--小程序亲子作业-->
    <select id="selChildHomeWork" resultType="com.cykj.va.ChildHomeWork">
        SELECT t2.biname,t4.homeworkContent, t4.homeworkURL, t4.arrangementTime, t1.homeworkURL tjurl, t5.pname, t1.evaluation
        FROM t_checkhomework t1
        INNER JOIN t_babyinf t2 ON t1.babyId = t2.biid
        INNER JOIN t_user t3 ON t2.uid = t3.uid
        INNER JOIN t_publishhomework t4 ON t1.phId = t4.phId
        INNER JOIN t_param t5 ON t5.pid = t1.`completion`
        WHERE t3.uphone = #{uphone} LIMIT #{page},#{pages}
    </select>

<!--    查询膳食-->
    <select id="selectFood" resultType="com.cykj.bean.BabyFood">
        select * from t_babyfood where fdate!='' order by fid desc
    </select>
<!--    上传膳食-->
    <insert id="upFood" parameterType="com.cykj.bean.BabyFood">
        insert into t_babyfood(ftime,fdate,fone,ftow,fthree,ffour,ffive)
        value (#{ftime},#{fdate},#{fone},#{ftow},#{fthree},#{ffour},#{ffive})
    </insert>

    <update id="upFoodTime" parameterType="com.cykj.bean.BabyFood">
        update t_babyfood set fdate = #{fdate} where fid = ${fid}
    </update>

    <update id="changeFood"  parameterType="com.cykj.bean.BabyFood">
        update t_babyfood set ${reserve2} = #{reserve3} where fid = ${fid}
    </update>

</mapper>
